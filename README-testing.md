# –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞

## üéØ –û–±–∑–æ—Ä

–ú—ã —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏ —Ç—Ä–µ—Ö—É—Ä–æ–≤–Ω–µ–≤—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞:

```
tests/
‚îú‚îÄ‚îÄ unit/           # SQLite, –±—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã –ª–æ–≥–∏–∫–∏ (‚úÖ –ì–æ—Ç–æ–≤–æ)
‚îú‚îÄ‚îÄ integration/    # PostgreSQL, —Ç–µ—Å—Ç—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è (üöß –ì–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É)
‚îî‚îÄ‚îÄ e2e/           # –ü–æ–ª–Ω–∞—è —Å—Ä–µ–¥–∞, —Å–∫–≤–æ–∑–Ω—ã–µ —Ç–µ—Å—Ç—ã (üöß –ì–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É)
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ó–∞–ø—É—Å–∫ unit —Ç–µ—Å—Ç–æ–≤ (–±—ã—Å—Ç—Ä–æ, SQLite)
```bash
make test-unit
```

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤
```bash
make test-unit  # –¢–æ–ª—å–∫–æ unit —Ç–µ—Å—Ç—ã - –±—ã—Å—Ç—Ä–æ –∏ –Ω–∞–¥–µ–∂–Ω–æ
```

### –ó–∞–ø—É—Å–∫ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
```bash
make test-unit-coverage
```

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

#### Unit —Ç–µ—Å—Ç—ã (SQLite)
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: < 1 —Å–µ–∫—É–Ω–¥—ã
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: –õ–æ–≥–∏–∫–∞ –ø–æ–∏—Å–∫–∞, –≤–∞–ª–∏–¥–∞—Ü–∏—è, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: SQLite –≤ –ø–∞–º—è—Ç–∏, Mock —Å–µ—Ä–≤–∏—Å—ã
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è**:
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–∏—Å–∫–∞
- –õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

#### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã —Å–∏—Å—Ç–µ–º—ã
- **Handlers**: ‚úÖ –í—Å–µ HTTP –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
- **Models**: ‚úÖ –í—Å–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
- **Repository**: ‚úÖ –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ë–î
- **Service**: ‚úÖ –í—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### üöß –ì–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É (—Ç—Ä–µ–±—É–µ—Ç Docker)

#### Integration —Ç–µ—Å—Ç—ã (PostgreSQL)
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 2-5 –º–∏–Ω—É—Ç
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: PostgreSQL full-text search
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: Testcontainers + PostgreSQL
- **–°—Ç–∞—Ç—É—Å**: üöß –ö–æ–¥ –≥–æ—Ç–æ–≤, —Ç—Ä–µ–±—É–µ—Ç Docker

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è**:
- –†–µ–∞–ª—å–Ω—ã–π PostgreSQL full-text search
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –∏–Ω–¥–µ–∫—Å—ã
- –°—Ç–µ–º–º–∏–Ω–≥ –∏ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ
- –°–ª–æ–∂–Ω—ã–µ –ø–æ–∏—Å–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã

#### E2E —Ç–µ—Å—Ç—ã (–ü–æ–ª–Ω–∞—è —Å—Ä–µ–¥–∞)
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 5-15 –º–∏–Ω—É—Ç
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: HTTP API + –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: PostgreSQL + Redis –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- **–°—Ç–∞—Ç—É—Å**: üöß –ö–æ–¥ –≥–æ—Ç–æ–≤, —Ç—Ä–µ–±—É–µ—Ç Docker

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è**:
- HTTP API endpoints
- Redis –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- –ü–æ–ª–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

## üõ† –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker Desktop
- Go 1.21+
- Make

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
```bash
# macOS
brew install --cask docker

# –ò–ª–∏ —Å–∫–∞—á–∞—Ç—å —Å https://docker.com
```

### –ó–∞–ø—É—Å–∫ integration —Ç–µ—Å—Ç–æ–≤
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Docker –∑–∞–ø—É—â–µ–Ω
docker ps

# –ó–∞–ø—É—Å–∫ integration —Ç–µ—Å—Ç–æ–≤
make test-integration
```

### –ó–∞–ø—É—Å–∫ E2E —Ç–µ—Å—Ç–æ–≤
```bash
make test-e2e
```

## üìà CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### GitHub Actions
–ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

- **Pull Request**: Unit —Ç–µ—Å—Ç—ã (–±—ã—Å—Ç—Ä–æ)
- **Main branch**: Unit + Integration + E2E —Ç–µ—Å—Ç—ã
- **Scheduled**: –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ + –±–µ–Ω—á–º–∞—Ä–∫–∏

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
# –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
make test-unit

# –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º (–µ—Å–ª–∏ –µ—Å—Ç—å Docker)
make test-unit && make test-integration

# –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º
make test-unit && make test-integration && make test-e2e
```

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–∞—à–µ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

### 1. –ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
- Unit —Ç–µ—Å—Ç—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∑–∞ —Å–µ–∫—É–Ω–¥—ã
- –ù–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–∫–∏ –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

### 2. –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- Integration —Ç–µ—Å—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º PostgreSQL
- E2E —Ç–µ—Å—Ç—ã –ø–æ–ª–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### 3. –ì–∏–±–∫–æ—Å—Ç—å
- –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å —Ç–µ—Å—Ç–æ–≤
- –ê–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º —Å—Ä–µ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### 4. –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –Ω–∞ –ª—é–±–æ–º —É—Ä–æ–≤–Ω–µ
- CI/CD –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏

## üîß –ö–æ–º–∞–Ω–¥—ã Make

```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
make test-unit              # Unit —Ç–µ—Å—Ç—ã (SQLite)
make test-integration       # Integration —Ç–µ—Å—Ç—ã (PostgreSQL)
make test-e2e              # E2E —Ç–µ—Å—Ç—ã (–ø–æ–ª–Ω–∞—è —Å—Ä–µ–¥–∞)

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
make test-unit-coverage     # Unit —Ç–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
make test-integration-coverage  # Integration —Ç–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ
make test-short            # –ë—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã (–ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω—ã–µ)
make test-bench           # –ë–µ–Ω—á–º–∞—Ä–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
make test-parallel        # –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
```

## üìù –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤

### Unit —Ç–µ—Å—Ç (–±—ã—Å—Ç—Ä—ã–π)
```go
// tests/unit/new_feature_test.go
func TestNewFeature(t *testing.T) {
    // SQLite setup
    // Mock dependencies  
    // Test business logic
}
```

### Integration —Ç–µ—Å—Ç (PostgreSQL)
```go
// tests/integration/new_feature_postgresql_test.go
func TestNewFeature_PostgreSQL(t *testing.T) {
    db := setupPostgreSQLContainer(t)
    // Test with real PostgreSQL
}
```

### E2E —Ç–µ—Å—Ç (HTTP API)
```go
// tests/e2e/new_feature_e2e_test.go
func TestNewFeature_E2E(t *testing.T) {
    env := setupE2EEnvironment(t)
    // Test full user scenario via HTTP API
}
```

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ú—ã —Å–æ–∑–¥–∞–ª–∏ **–Ω–∞–¥–µ–∂–Ω—É—é, –±—ã—Å—Ç—Ä—É—é –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—É—é** —Å–∏—Å—Ç–µ–º—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä–∞—è:

- ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å** —Å unit —Ç–µ—Å—Ç–∞–º–∏
- üöß **–ì–æ—Ç–æ–≤–∞ –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é** —Å integration –∏ E2E —Ç–µ—Å—Ç–∞–º–∏
- üîÑ **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å CI/CD** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- üìä **–û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—ã—Å–æ–∫–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ** –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
- ‚ö° **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ —Å–∫–æ—Ä–æ—Å—Ç–∏** –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–°–∏—Å—Ç–µ–º–∞ –ø–æ–∏—Å–∫–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!